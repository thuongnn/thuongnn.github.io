<!DOCTYPE html><html lang="en" class="scroll-smooth" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="canonical" href="https://thuongnn.dev/posts/aws/networking/route53/"><meta name="generator" content="Astro v5.5.2"><!-- General Meta Tags --><title>[AWS] Amazon Route 53 | thuongnn.dev</title><meta name="title" content="[AWS] Amazon Route 53 | thuongnn.dev"><meta name="description" content="Tìm hiểu về dịch vụ DNS có khả năng mở rộng cao của AWS, giúp định tuyến người dùng đến các ứng dụng internet."><meta name="author" content="thuongnn"><link rel="sitemap" href="/sitemap-index.xml"><!-- Open Graph / Facebook --><meta property="og:title" content="[AWS] Amazon Route 53 | thuongnn.dev"><meta property="og:description" content="Tìm hiểu về dịch vụ DNS có khả năng mở rộng cao của AWS, giúp định tuyến người dùng đến các ứng dụng internet."><meta property="og:url" content="https://thuongnn.dev/posts/aws/networking/route53/"><meta property="og:image" content="https://thuongnn.dev/posts/aws/networking/route53/index.png"><!-- Article Published/Modified time --><meta property="article:published_time" content="2023-05-06T10:35:12.000Z"><meta property="article:modified_time" content="2025-05-29T02:30:41.000Z"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://thuongnn.dev/posts/aws/networking/route53/"><meta property="twitter:title" content="[AWS] Amazon Route 53 | thuongnn.dev"><meta property="twitter:description" content="Tìm hiểu về dịch vụ DNS có khả năng mở rộng cao của AWS, giúp định tuyến người dùng đến các ứng dụng internet."><meta property="twitter:image" content="https://thuongnn.dev/posts/aws/networking/route53/index.png"><!-- Google JSON-LD Structured data --><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"[AWS] Amazon Route 53 | thuongnn.dev","image":"https://thuongnn.dev/posts/aws/networking/route53/index.png","datePublished":"2023-05-06T10:35:12.000Z","dateModified":"2025-05-29T02:30:41.000Z","author":[{"@type":"Person","name":"thuongnn","url":"https://thuongnn.dev/"}]}</script><!-- Enable RSS feed auto-discovery  --><!-- https://docs.astro.build/en/recipes/rss/#enabling-rss-feed-auto-discovery --><link rel="alternate" type="application/rss+xml" title="thuongnn.dev" href="https://thuongnn.dev/rss.xml"><meta name="theme-color" content=""><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CMTcOisY.js"></script><script src="/toggle-theme.js"></script><link rel="stylesheet" href="/_astro/about.DQgjlE2T.css">
<style>@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0;mix-blend-mode:plus-lighter}to{opacity:1;mix-blend-mode:plus-lighter}}@keyframes astroFadeOut{0%{opacity:1;mix-blend-mode:plus-lighter}to{opacity:0;mix-blend-mode:plus-lighter}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
[data-astro-image]{width:100%;height:auto;object-fit:var(--fit);object-position:var(--pos);aspect-ratio:var(--w) / var(--h)}[data-astro-image=responsive]{max-width:calc(var(--w) * 1px);max-height:calc(var(--h) * 1px)}[data-astro-image=fixed]{width:calc(var(--w) * 1px);height:calc(var(--h) * 1px)}
</style><style>[data-astro-transition-scope="astro-fam6wyqg-1"] { view-transition-name: aws-amazon-route-53; }@layer astro { ::view-transition-old(aws-amazon-route-53) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(aws-amazon-route-53) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(aws-amazon-route-53) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(aws-amazon-route-53) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-2"] { view-transition-name: aws; }@layer astro { ::view-transition-old(aws) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(aws) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(aws) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(aws) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-3"] { view-transition-name: amazon-web-services; }@layer astro { ::view-transition-old(amazon-web-services) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(amazon-web-services) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(amazon-web-services) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(amazon-web-services) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body data-astro-cid-sckkx6r4>  <header> <a id="skip-to-content" href="#main-content" class="absolute -top-full left-16 z-50 bg-background px-3 py-2 text-accent backdrop-blur-lg transition-all focus:top-4">
Skip to content
</a> <div id="nav-container" class="mx-auto flex max-w-3xl flex-col items-center justify-between sm:flex-row"> <div id="top-nav-wrap" class="relative flex w-full items-baseline justify-between bg-background p-4 sm:items-center sm:py-6"> <a href="/" class="absolute py-1 text-2xl leading-7 font-semibold whitespace-nowrap sm:static"> thuongnn.dev </a> <nav id="nav-menu" class="flex w-full flex-col items-center sm:ml-2 sm:flex-row sm:justify-end sm:space-x-4 sm:py-0"> <button id="menu-btn" class="focus-outline self-end p-2 sm:hidden" aria-label="Open Menu" aria-expanded="false" aria-controls="menu-items"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden" id="close-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-menu-deep" id="menu-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M4 6h16" /><path d="M7 12h13" /><path d="M10 18h10" /></svg> </button> <ul id="menu-items" class="mt-4 grid w-44 grid-cols-2 place-content-center gap-2 [&#38;>li>a]:block [&#38;>li>a]:px-4 [&#38;>li>a]:py-3 [&#38;>li>a]:text-center [&#38;>li>a]:font-medium [&#38;>li>a]:hover:text-accent sm:[&#38;>li>a]:px-2 sm:[&#38;>li>a]:py-1 hidden sm:mt-0 sm:ml-0 sm:flex sm:w-auto sm:gap-x-5 sm:gap-y-0"> <li class="col-span-2"> <a href="/posts" class="active-nav">
Posts
</a> </li> <li class="col-span-2"> <a href="/tags">
Tags
</a> </li> <li class="col-span-2"> <a href="/about">
About
</a> </li> <li class="col-span-2"> <a href="/archives" class="group inline-block hover:text-accent focus-outline flex justify-center p-3 sm:p-1" aria-label="archives" title="Archives"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden sm:inline-block"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" /><path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" /><path d="M10 12l4 0" /></svg> <span class="sm:sr-only">Archives</span> </a> </li> <li class="col-span-1 flex items-center justify-center"> <a href="/search" class="group inline-block hover:text-accent focus-outline flex p-3 sm:p-1" aria-label="search" title="Search"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-search"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" /><path d="M21 21l-6 -6" /></svg> <span class="sr-only">Search</span> </a> </li> <li class="col-span-1 flex items-center justify-center"> <button id="theme-btn" class="focus-outline relative size-12 p-4 sm:size-8 hover:[&>svg]:stroke-accent" title="Toggles light & dark" aria-label="auto" aria-live="polite"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute top-[50%] left-[50%] -translate-[50%] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" /></svg> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute top-[50%] left-[50%] -translate-[50%] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z" /><path d="M6.343 17.657l-1.414 1.414" /><path d="M6.343 6.343l-1.414 -1.414" /><path d="M17.657 6.343l1.414 -1.414" /><path d="M17.657 17.657l1.414 1.414" /><path d="M4 12h-2" /><path d="M12 4v-2" /><path d="M20 12h2" /><path d="M12 20v2" /></svg> </button> </li> </ul> </nav> </div> </div> <div class="max-w-3xl mx-auto px-4"> <hr class="border-border" aria-hidden="true"> </div> </header> <script type="module">function s(){const e=document.querySelector("#menu-btn"),t=document.querySelector("#menu-items"),n=document.querySelector("#menu-icon"),o=document.querySelector("#close-icon");!e||!t||!n||!o||e.addEventListener("click",()=>{const c=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",c?"false":"true"),e.setAttribute("aria-label",c?"Open Menu":"Close Menu"),t.classList.toggle("hidden"),n.classList.toggle("hidden"),o.classList.toggle("hidden")})}s();document.addEventListener("astro:after-swap",s);</script> <div class="mx-auto flex w-full max-w-3xl items-center justify-start px-2"><a id="back-button" href="/" class="group inline-block hover:text-accent focus-outline mt-8 mb-2 flex hover:text-foreground/75"><svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 6l-6 6l6 6" /></svg><span>Go back</span></a></div><script type="module">function o(){const t=document.querySelector("#back-button"),e=sessionStorage.getItem("backUrl");e&&t&&(t.href=e)}document.addEventListener("astro:page-load",o);o();</script> <main id="main-content" class="mx-auto w-full max-w-3xl px-4 pb-12" data-pagefind-body> <h1 class="inline-block text-2xl font-bold text-accent sm:text-3xl" data-astro-transition-scope="astro-fam6wyqg-1"> [AWS] Amazon Route 53 </h1> <div class="flex items-center gap-4"> <div class="flex items-end space-x-2 opacity-80 my-2"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 min-w-[1.375rem]"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M7 14h.013" /><path d="M10.01 14h.005" /><path d="M13.01 14h.005" /><path d="M16.015 14h.005" /><path d="M13.015 17h.005" /><path d="M7.01 17h.005" /><path d="M10.01 17h.005" /></svg> <span class="text-sm italic sm:text-base">
Updated:
</span> <span class="text-sm italic sm:text-base"> <time datetime="2025-05-29T02:30:41.000Z">29 May, 2025</time> <span aria-hidden="true"> | </span> <span class="sr-only">&nbsp;at&nbsp;</span> <span class="text-nowrap">02:30 AM</span> </span> </div> <div class="opacity-80 max-sm:hidden"><span aria-hidden="true" class="max-sm:hidden">
|
</span><a class="space-x-1.5 hover:opacity-75" href="https://github.com/thuongnn/thuongnn.github.io/edit/master/src/data/blog/aws/networking/route53.md" rel="noopener noreferrer" target="_blank"><svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" /><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" /><path d="M16 5l3 3" /></svg><span class="italic max-sm:text-sm sm:inline">Suggest Changes</span></a></div> </div> <article id="article" class="mx-auto prose mt-8 max-w-3xl"> <p>Bài viết được tham khảo và tổng hợp lại từ Jayendra’s Blog, xem bài viết gốc ở đây: <a href="https://jayendrapatil.com/aws-route53">https://jayendrapatil.com/aws-route53</a>.</p>
<h2 id="table-of-contents">Table of contents</h2>
<p></p><details><summary>Open Table of contents</summary><p></p>
<ul>
<li><a href="#gi%E1%BB%9Bi-thi%E1%BB%87u">Giới thiệu</a></li>
<li><a href="#supported-dns-resource-record-types">Supported DNS Resource Record Types</a></li>
<li><a href="#alias-resource-record-sets">Alias Resource Record Sets</a></li>
<li><a href="#route-53-alias-vs-cname">Route 53 Alias vs CNAME</a></li>
<li><a href="#route-53-hosted-zone">Route 53 Hosted Zone</a></li>
<li><a href="#route-53-health-checks">Route 53 Health Checks</a></li>
<li><a href="#route-53-routing-policies">Route 53 Routing Policies</a></li>
<li><a href="#route-53-resolver">Route 53 Resolver</a>
<ul>
<li>
<ul>
<li><a href="#inbound-endpoint--forward-dns-queries-t%E1%BB%AB-on-premise-t%E1%BB%9Bi-aws"><strong>Inbound Endpoint – Forward DNS queries từ On-premise tới AWS</strong></a></li>
<li><a href="#outbound-endpoint--forward-queries-t%E1%BB%AB-aws-vpc-t%E1%BB%9Bi-on-premise">Outbound Endpoint – forward queries từ AWS VPC tới <strong>On</strong>-premise</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#route-53-split-view-split-horizon-dns">Route 53 Split-view (Split-horizon) DNS</a></li>
<li><a href="#route-53-dnssec">Route 53 DNSSEC</a></li>
<li><a href="#route-53-resolver-dns-firewall">Route 53 Resolver DNS Firewall</a></li>
<li><a href="#route-53-logging">Route 53 Logging</a></li>
</ul>
<p></p></details><p></p>
<h1 id="giới-thiệu">Giới thiệu</h1>
<p><img alt="1.png" sizes="(min-width: 582px) 582px, 100vw" loading="lazy" decoding="async" fetchpriority="auto" style="--w: 582; --h: 445;" data-astro-image="responsive" width="582" height="445" src="/_astro/1.Bveb3b_M_1evOOV.webp" srcset="/_astro/1.Bveb3b_M_1evOOV.webp 582w"></p>
<ul>
<li><strong>Route 53</strong> là một dịch vụ <strong>DNS</strong> web có tính sẵn sàng cao và khả năng mở rộng.</li>
<li><strong>Route 53</strong> cung cấp ba chức năng chính:
<ul>
<li><strong>Domain registration</strong></li>
<li><strong>Domain Name System (DNS) service</strong>
<ul>
<li>Ví dụ add record <a href="http://www.example.com/"><strong>www.example.com</strong></a> phân giải thành địa chỉ <strong>IP</strong> <code>192.0.2.1</code>.</li>
<li>Responds các DNS queries thông qua mạng lưới authoritative DNS servers toàn cầu, giúp giảm độ trễ.</li>
<li>Có thể chuyển hướng Internet traffic đến <strong>CloudFront</strong>, <strong>Elastic Beanstalk</strong>, <strong>ELB</strong> hoặc <strong>S3</strong>. Không tính phí đối với các DNS queries tới những tài nguyên này.</li>
</ul>
</li>
<li><strong>Health Checking</strong>
<ul>
<li>Có thể monitor sức khỏe của các tài nguyên như web và email servers.</li>
<li>Gửi các yêu cầu tự động qua Internet tới ứng dụng để kiểm tra xem nó có thể truy cập, có sẵn và hoạt động bình thường không.</li>
<li>Có thể cấu hình các cảnh báo <strong>CloudWatch</strong> cho các health checks để gửi thông báo khi tài nguyên không còn khả dụng.</li>
<li>Có thể được cấu hình để chuyển hướng Internet traffic ra khỏi các tài nguyên không còn khả dụng.</li>
</ul>
</li>
<li><strong>Security</strong>
<ul>
<li>Hỗ trợ cả <strong>DNSSEC</strong> cho domain registration và ký <strong>DNSSEC signing</strong>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="supported-dns-resource-record-types">Supported DNS Resource Record Types</h1>
<ul>
<li><strong>A (Address) Format</strong> là một IPv4 address theo dạng decimal notation, ví dụ: <code>192.0.2.1</code>.</li>
<li><strong>AAAA Format</strong> là một IPv6 address theo định dạng colon-separated hexadecimal.</li>
<li><strong>CNAME Format</strong> có cùng định dạng như một tên miền:
<ul>
<li>DNS protocol không cho phép tạo bản ghi <strong>CNAME</strong> cho top node trong DNS namespace, còn được gọi là <strong>zone apex</strong>. Ví dụ, với tên miền <code>example.com</code>, zone apex là <code>example.com</code>, không thể tạo bản ghi <strong>CNAME</strong> cho <code>example.com</code>, nhưng có thể tạo bản ghi <strong>CNAME</strong> cho <code>www.example.com</code>, <code>newproduct.example.com</code>, v.v.</li>
<li>Nếu một bản ghi <strong>CNAME</strong> được tạo cho một subdomain, thì không thể tạo bất kỳ bản ghi tài nguyên nào khác cho subdomain đó. Ví dụ, nếu tạo bản ghi <strong>CNAME</strong> cho <code>www.example.com</code>, không thể tạo các bản ghi tài nguyên khác có tên <code>www.example.com</code>.</li>
</ul>
</li>
<li><strong>MX (Mail Exchange)</strong> <strong>Format</strong> chứa decimal number đại diện cho priority của bản ghi MX, và tên miền của email server.</li>
<li><strong>NS (Name Server)</strong> <strong>Format</strong> xác định name servers cho hosted zone. Giá trị của bản ghi <strong>NS</strong> là domain name of a name server.</li>
<li><strong>PTR Format</strong>: Giá trị của bản ghi <strong>PTR</strong> có định dạng giống như tên miền.</li>
<li><strong>SOA (Start of Authority)</strong> <strong>Format</strong> cung cấp thông tin về một tên miền và Amazon Route 53 hosted zone.</li>
<li><strong>SPF (Sender Policy Framework)</strong> <strong>Format</strong>:
<ul>
<li>Bản ghi <strong>SPF</strong> trước đây được sử dụng để xác minh danh tính của người gửi các tin nhắn email, tuy nhiên hiện nay không được khuyến khích sử dụng.</li>
<li>Thay vì sử dụng bản ghi <strong>SPF</strong>, nên sử dụng bản ghi <strong>TXT</strong> chứa giá trị áp dụng.</li>
</ul>
</li>
<li><strong>SRV</strong> <strong>Format</strong>: Giá trị của bản ghi <strong>SRV</strong> bao gồm bốn giá trị phân tách bằng dấu cách. Ba giá trị đầu tiên là các số thập phân đại diện cho priority, weight và port. Giá trị thứ tư là tên miền, ví dụ: <strong><code>10 5 80 hostname.example.com</code></strong>.</li>
<li><strong>TXT (Text)</strong> <strong>Forma</strong> chứa một danh sách các chuỗi được bao bởi dấu ngoặc kép, phân tách bằng dấu cách. Mỗi chuỗi có tối đa 255 ký tự. Ngoài các ký tự được phép unescaped trong tên miền, dấu cách cũng được phép trong các chuỗi <strong>TXT</strong>.</li>
</ul>
<h1 id="alias-resource-record-sets">Alias Resource Record Sets</h1>
<ul>
<li><strong>Route 53</strong> hỗ trợ các alias resource record, cho phép định tuyến các truy vấn đến một CloudFront distribution, Elastic Beanstalk, ELB, một S3 bucket được cấu hình làm trang web tĩnh, hoặc một bản ghi tài nguyên Route 53 khác.</li>
<li>Alias records không phải là chuẩn trong DNS RFC và là một phần mở rộng của <strong>Route 53</strong> đối với chức năng DNS.</li>
<li>Alias records tương tự như bản ghi <strong>CNAME</strong> và luôn có loại <strong>A</strong> hoặc <strong>AAAA</strong>.</li>
<li>Alias records có thể được tạo cả cho <strong>root domain</strong> hoặc <strong>apex domain</strong>, chẳng hạn như <code>example.com</code>, và cho các <strong>subdomains</strong>, chẳng hạn như <code>www.example.com</code>. Bản ghi <strong>CNAME</strong> chỉ có thể được sử dụng cho subdomains.</li>
<li><strong>Route 53</strong> tự động nhận diện các thay đổi trong các resource record mà alias records tham chiếu tới. Ví dụ, đối với một trang web trỏ đến một <strong>load balancer</strong>, nếu IP của <strong>load balancer</strong> thay đổi, các thay đổi đó sẽ tự động được phản ánh trong các DNS answers mà không cần thay đổi các resource record trong hosted zone.</li>
<li>Alias resource record không hỗ trợ <strong>TTL</strong> hoặc <strong>Time to Live</strong> nếu nó trỏ đến <a href="https://jayendrapatil.com/aws-cloudfront/">**CloudFront</a> distribution**, <strong>ELB</strong>, hoặc <strong>S3 bucket</strong>. Thay vào đó, TTL của các tài nguyên này (như TTL của <strong>CloudFront</strong>, <strong>ELB</strong>, hoặc **S3**) sẽ được sử dụng.</li>
<li>Alias records miễn phí khi truy vấn và không phát sinh bất kỳ phí nào.</li>
<li>Alias record supported targets:
<ul>
<li><strong>Elastic Load Balancers</strong></li>
<li><strong>CloudFront distributions</strong></li>
<li><strong>API Gateway</strong></li>
<li><strong>Elastic Beanstalk</strong></li>
<li><strong>S3 Website</strong></li>
<li><strong>Global Accelerator</strong></li>
<li><strong>VPC Interface Endpoints</strong></li>
<li><strong>Route 53 record trong cùng hosted zone</strong></li>
</ul>
</li>
<li>Alias record không được hỗ trợ cho:
<ul>
<li><strong>EC2 DNS</strong></li>
<li><strong>RDS endpoints</strong></li>
</ul>
</li>
</ul>
<h1 id="route-53-alias-vs-cname">Route 53 Alias vs CNAME</h1>
<p><img alt="2.png" sizes="(min-width: 1024px) 1024px, 100vw" loading="lazy" decoding="async" fetchpriority="auto" style="--w: 1024; --h: 748;" data-astro-image="responsive" width="1024" height="748" src="/_astro/2.DDIal1bc_jfDlo.webp" srcset="/_astro/2.DDIal1bc_Z1U5TzS.webp 640w, /_astro/2.DDIal1bc_ZmBpQ3.webp 750w, /_astro/2.DDIal1bc_Z1oAkA8.webp 828w, /_astro/2.DDIal1bc_jfDlo.webp 1024w"></p>
<h1 id="route-53-hosted-zone">Route 53 Hosted Zone</h1>
<ul>
<li><strong>Hosted Zone</strong> là một container chứa các bản ghi, bao gồm thông tin về cách định tuyến traffic cho một domain (ví dụ như <code>example.com</code>) và tất cả các subdomain của nó (ví dụ như <code>www.example.com</code>, <code>retail.example.com</code>, và <code>seattle.accounting.example.com</code>).</li>
<li>Một <strong>Hosted Zone</strong> có tên giống như tên miền tương ứng.</li>
<li><strong>Routing Traffic to the Resources</strong>:
<ul>
<li>Tạo một <strong>hosted zone</strong> với một trong hai loại hosted zone: <strong>public hosted zone</strong> hoặc <strong>private hosted zone</strong>:
<ul>
<li><strong>Public Hosted Zone</strong> – dùng để định tuyến internet traffic đến các tài nguyên cho một domain cụ thể và các subdomain của nó.</li>
<li><strong>Private Hosted Zone</strong> – dùng để định tuyến traffic trong một <strong>VPC</strong>.</li>
</ul>
</li>
<li>Tạo các <strong>record</strong> trong hosted zone.
<ul>
<li>Các <strong>record</strong> xác định nơi để định tuyến traffic cho mỗi domain hoặc subdomain.</li>
<li>Tên của mỗi bản ghi trong hosted zone phải kết thúc bằng tên của hosted zone.</li>
</ul>
</li>
</ul>
</li>
<li>Đối với các <strong>public/private</strong> và <strong>private Hosted Zones</strong> có thể có overlapping namespaces, <strong>Route 53 Resolvers</strong> sẽ định tuyến traffic tới bản ghi cụ thể nhất.</li>
<li><strong>IAM permissions</strong> chỉ áp dụng ở cấp độ <strong>Hosted Zone</strong>.</li>
</ul>
<h1 id="route-53-health-checks">Route 53 Health Checks</h1>
<p>Đọc thêm <a href="https://jayendrapatil.com/aws-route-53/#:~:text=Hosted%20Zone%20level-,Route%2053%20Health%20Checks,-Route%2053%20health">ở đây</a>.</p>
<h1 id="route-53-routing-policies">Route 53 Routing Policies</h1>
<p>AWS Route 53 cung cấp nhiều chính sách định tuyến DNS:</p>
<ul>
<li><strong>Simple Routing</strong>: Định tuyến cơ bản cho một tài nguyên.</li>
<li><strong>Weighted Routing</strong>: Phân phối lưu lượng dựa trên trọng số.</li>
<li><strong>Latency-based Routing</strong>: Định tuyến tới vùng có độ trễ thấp nhất.</li>
<li><strong>Failover Routing</strong>: Hỗ trợ chuyển đổi dự phòng (active-passive).</li>
<li><strong>Geolocation Routing</strong>: Định tuyến theo vị trí người dùng.</li>
<li><strong>Geoproximity Routing</strong>: Định tuyến dựa trên khoảng cách giữa người dùng và tài nguyên.</li>
<li><strong>Multivalue Routing</strong>: Trả về nhiều IP đã được kiểm tra sức khỏe.</li>
</ul>
<p>Chi tiết thêm tại: <a href="https://jayendrapatil.com/aws-route-53-routing-policy/">AWS Route 53 Routing Policy</a>.</p>
<h1 id="route-53-resolver">Route 53 Resolver</h1>
<ul>
<li><strong>Route 53 Resolver</strong> cung cấp khả năng phân giải DNS tự động trong VPC.</li>
<li><strong>Mặc định</strong>, Resolver trả lời các truy vấn DNS cho tên miền trong VPC như EC2 hay ELB.</li>
<li>Resolver sẽ truy cập các <strong>public name servers</strong> bên ngoài AWS để tìm kiếm thông tin DNS nếu truy vấn không thuộc VPC hoặc không nằm trong phạm vi các dịch vụ AWS.</li>
<li><strong>Hạn chế</strong>: On-premises không thể phân giải DNS Route 53 và ngược lại.</li>
<li>Có thể cấu hình phân giải DNS giữa VPC và on-premises qua <strong>Direct Connect</strong> hoặc <strong>VPN</strong>.</li>
<li>Resolver mang tính <strong>regional</strong>.</li>
<li>Sử dụng inbound/outbound forwarding, cần tạo <strong>Resolver endpoint</strong> trong VPC.
Để chuyển tiếp DNS từ VPC vào hoặc ra khỏi mạng khác (ví dụ on-premises), cần tạo <strong>Resolver endpoint</strong> trong VPC. Endpoint này chỉ định IP để tiếp nhận hoặc gửi truy vấn DNS.</li>
<li>Khi tạo Resolver endpoint, Resolver tự động thiết lập <strong>Elastic Network Interfaces (ENI)</strong> trên VPC. Mỗi ENI tương ứng với một IP được cấu hình và đóng vai trò trong việc chuyển tiếp truy vấn DNS</li>
</ul>
<h3 id="inbound-endpoint--forward-dns-queries-từ-on-premise-tới-aws"><strong>Inbound Endpoint – Forward DNS queries từ On-premise tới AWS</strong></h3>
<p><img alt="3.png" sizes="(min-width: 928px) 928px, 100vw" loading="lazy" decoding="async" fetchpriority="auto" style="--w: 928; --h: 471;" data-astro-image="responsive" width="928" height="471" src="/_astro/3.C_1nKZZu_2lcGsl.webp" srcset="/_astro/3.C_1nKZZu_1JufCc.webp 640w, /_astro/3.C_1nKZZu_Z1X0Bi6.webp 750w, /_astro/3.C_1nKZZu_Zox2Sy.webp 828w, /_astro/3.C_1nKZZu_2lcGsl.webp 928w"></p>
<ul>
<li>Các <strong>DNS resolvers</strong> trên mạng <strong>on-premises</strong> có thể chuyển tiếp truy vấn DNS đến <strong>Resolver</strong> trong một VPC được chỉ định.</li>
<li>Điều này giúp các DNS resolvers dễ dàng <strong>phân giải tên miền</strong> cho tài nguyên AWS như <strong>EC2 instances</strong> hoặc các bản ghi trong <strong>Route 53 private hosted zone</strong>.</li>
</ul>
<h3 id="outbound-endpoint--forward-queries-từ-aws-vpc-tới-on-premise">Outbound Endpoint – forward queries từ AWS VPC tới <strong>On</strong>-premise</h3>
<p><img alt="4.png" sizes="(min-width: 946px) 946px, 100vw" loading="lazy" decoding="async" fetchpriority="auto" style="--w: 946; --h: 470;" data-astro-image="responsive" width="946" height="470" src="/_astro/4.BxmCFyLk_ZlnRSn.webp" srcset="/_astro/4.BxmCFyLk_1BTQuh.webp 640w, /_astro/4.BxmCFyLk_ZQGi6v.webp 750w, /_astro/4.BxmCFyLk_1UEXBx.webp 828w, /_astro/4.BxmCFyLk_ZlnRSn.webp 946w"></p>
<ul>
<li><strong>Route 53 Resolver</strong> có thể được cấu hình để chuyển tiếp các truy vấn DNS nhận được từ <strong>EC2 instances</strong> trong VPC tới <strong>DNS resolvers</strong> trên <strong>on-premises networks</strong>.
<ul>
<li>Để chuyển tiếp các truy vấn cụ thể, tạo các <strong>Resolver rules</strong> để chỉ định:
<ul>
<li><strong>Tên miền</strong> cho các truy vấn cần chuyển tiếp (ví dụ: <code>example.com</code>).</li>
<li><strong>Địa chỉ IP</strong> của các DNS resolvers trên mạng on-premises.</li>
</ul>
</li>
<li>Nếu truy vấn khớp với nhiều quy tắc (ví dụ: <code>example.com</code>, <code>acme.example.com</code>), <strong>Resolver</strong> sẽ chọn quy tắc khớp <strong>chính xác nhất</strong> (<code>acme.example.com</code>) và chuyển tiếp truy vấn đến IP tương ứng.</li>
</ul>
</li>
</ul>
<h1 id="route-53-split-view-split-horizon-dns">Route 53 Split-view (Split-horizon) DNS</h1>
<p><strong>Route 53 Split-view DNS</strong> cho phép sử dụng <strong>cùng một tên miền</strong> để phân biệt phiên bản nội bộ và công khai của một trang web.</p>
<ul>
<li>Cả <strong>private</strong> và <strong>public hosted zone</strong> có thể được duy trì với cùng tên miền.</li>
<li>Đảm bảo tính năng <strong>DNS resolution</strong> và <strong>DNS hostnames</strong> được enable trên source VPC.</li>
<li><strong>Kết quả truy vấn</strong> sẽ phụ thuộc vào nguồn yêu cầu:
<ul>
<li><strong>Từ trong VPC</strong> sẽ trả về kết quả từ private hosted zone.</li>
<li><strong>Từ bên ngoài</strong> sẽ trả về kết quả từ public hosted zone.</li>
</ul>
</li>
</ul>
<h1 id="route-53-dnssec">Route 53 DNSSEC</h1>
<ul>
<li><strong>DNSSEC</strong> (Domain Name System Security Extensions) là một giao thức bảo mật DNS giúp bảo vệ tên miền khỏi các cuộc tấn công giả mạo DNS (man-in-the-middle).</li>
<li>DNSSEC chỉ hoạt động cho các <strong>public hosted zones</strong>.</li>
<li>Route 53 hỗ trợ DNSSEC signing và đăng ký DNSSEC cho tên miền.</li>
<li>Khi bật DNSSEC, <strong>Route 53</strong> thiết lập một <strong>chain of trust</strong> từ TLD registry đến máy chủ tên chính thức.</li>
<li>Route 53 tạo <strong>key-signing key (KSK)</strong> sử dụng khóa quản lý của khách hàng trong <strong>AWS KMS</strong>.</li>
<li>Key phải đáp ứng các yêu cầu:
<ul>
<li>Phải ở khu vực <strong>US East (N. Virginia)</strong>.</li>
<li>Phải là khóa đối xứng <strong>ECC_NIST_P256</strong>.</li>
</ul>
</li>
</ul>
<h1 id="route-53-resolver-dns-firewall">Route 53 Resolver DNS Firewall</h1>
<ul>
<li><strong>Route 53 Resolver DNS Firewall</strong> cung cấp bảo vệ cho các yêu cầu DNS ra ngoài từ VPC và có thể giám sát và kiểm soát các tên miền mà các ứng dụng có thể truy vấn.</li>
<li>DNS Firewall có thể filter và điều chỉnh traffic DNS ra ngoài cho VPC.</li>
<li>Các filtering rules có thể được tạo ra trong các DNS Firewall rule groups và liên kết với VPC.</li>
<li><strong>DNS Firewall</strong> giúp ngăn chặn việc <strong>exfiltration dữ liệu DNS</strong>, khi kẻ tấn công sử dụng truy vấn DNS để đưa dữ liệu ra ngoài VPC.</li>
<li>Có thể cấu hình DNS Firewall để:
<ul>
<li>Từ chối truy cập vào các tên miền xấu và cho phép tất cả các truy vấn khác đi qua, hoặc</li>
<li>Từ chối tất cả các tên miền ngoại trừ những tên miền mà bạn tin cậy.</li>
</ul>
</li>
<li>DNS Firewall là tính năng của <strong>Route 53 Resolver</strong> và không yêu cầu cấu hình Resolver bổ sung.</li>
<li><strong>Firewall Manager</strong> có thể được sử dụng để cấu hình và quản lý các DNS Firewall rule group cho các VPC trong tổ chức.</li>
</ul>
<h1 id="route-53-logging">Route 53 Logging</h1>
<ul>
<li><strong>DNS Query Logging</strong> cung cấp thông tin như các yêu cầu domain hoặc subdomain, thời gian yêu cầu, loại bản ghi DNS, mã phản hồi DNS, và vùng Route 53 đã trả lời yêu cầu.</li>
<li><strong>DNS Query Logs</strong> được gửi tới CloudWatch Logs và chỉ có sẵn cho các hosted zones công khai.</li>
<li><strong>Resolver Query Logging</strong> ghi lại các truy vấn DNS từ VPC đã chỉ định, tài nguyên on-premises sử dụng endpoint Resolver inbound, và các truy vấn qua outbound Resolver endpoint.</li>
<li>Các bản ghi sẽ được gửi tới CloudWatch Logs, S3, hoặc Kinesis Data Firehose.</li>
</ul> </article> <hr class="my-8 border-dashed"> <div class="opacity-80 sm:hidden"><span aria-hidden="true" class="max-sm:hidden">
|
</span><a class="space-x-1.5 hover:opacity-75" href="https://github.com/thuongnn/thuongnn.github.io/edit/master/src/data/blog/aws/networking/route53.md" rel="noopener noreferrer" target="_blank"><svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" /><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" /><path d="M16 5l3 3" /></svg><span class="italic max-sm:text-sm sm:inline">Suggest Changes</span></a></div> <ul class="mt-4 mb-8 sm:my-8"> <li class="group inline-block group-hover:cursor-pointer my-1 underline-offset-4"> <a href="/tags/aws/" class="relative pr-2 text-lg underline decoration-dashed group-hover:-top-0.5 group-hover:text-accent focus-visible:p-1 text-sm" data-astro-transition-scope="astro-36ssibgs-2"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block opacity-80 -mr-3.5 size-4"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M5 9l14 0" /><path d="M5 15l14 0" /><path d="M11 4l-4 16" /><path d="M17 4l-4 16" /></svg>
&nbsp;<span>AWS</span> </a> </li><li class="group inline-block group-hover:cursor-pointer my-1 underline-offset-4"> <a href="/tags/amazon-web-services/" class="relative pr-2 text-lg underline decoration-dashed group-hover:-top-0.5 group-hover:text-accent focus-visible:p-1 text-sm" data-astro-transition-scope="astro-36ssibgs-3"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block opacity-80 -mr-3.5 size-4"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M5 9l14 0" /><path d="M5 15l14 0" /><path d="M11 4l-4 16" /><path d="M17 4l-4 16" /></svg>
&nbsp;<span>Amazon Web Services</span> </a> </li> </ul> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZQIRKt" component-url="/_astro/Comments.BCyvFdpi.js" component-export="default" renderer-url="/_astro/client.BPIbHqJh.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;Comments&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> <div class="mt-4 flex flex-col items-center justify-between gap-6 sm:flex-row sm:items-end sm:gap-4"> <div class="flex flex-col flex-wrap items-center justify-center gap-1 sm:items-start"> <span class="italic">Share this post on:</span> <div class="text-center"> <a href="https://wa.me/?text=https://thuongnn.dev/posts/aws/networking/route53/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post via WhatsApp"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 21l1.65 -3.8a9 9 0 1 1 3.4 2.9l-5.05 .9" /><path d="M9 10a.5 .5 0 0 0 1 0v-1a.5 .5 0 0 0 -1 0v1a5 5 0 0 0 5 5h1a.5 .5 0 0 0 0 -1h-1a.5 .5 0 0 0 0 1" /></svg> <span class="sr-only">Share this post via WhatsApp</span> </a><a href="https://www.facebook.com/sharer.php?u=https://thuongnn.dev/posts/aws/networking/route53/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post on Facebook"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" /></svg> <span class="sr-only">Share this post on Facebook</span> </a><a href="https://x.com/intent/post?url=https://thuongnn.dev/posts/aws/networking/route53/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post on X"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M4 4l11.733 16h4.267l-11.733 -16z" /><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" /></svg> <span class="sr-only">Share this post on X</span> </a><a href="https://t.me/share/url?url=https://thuongnn.dev/posts/aws/networking/route53/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post via Telegram"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4" /></svg> <span class="sr-only">Share this post via Telegram</span> </a><a href="https://pinterest.com/pin/create/button/?url=https://thuongnn.dev/posts/aws/networking/route53/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post on Pinterest"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M8 20l4 -9" /><path d="M10.7 14c.437 1.263 1.43 2 2.55 2c2.071 0 3.75 -1.554 3.75 -4a5 5 0 1 0 -9.7 1.7" /><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /></svg> <span class="sr-only">Share this post on Pinterest</span> </a><a href="mailto:?subject=See%20this%20post&#38;body=https://thuongnn.dev/posts/aws/networking/route53/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post via email"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" /><path d="M3 7l9 6l9 -6" /></svg> <span class="sr-only">Share this post via email</span> </a> </div> </div> <button id="back-to-top" class="focus-outline py-1 whitespace-nowrap hover:opacity-75"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block rotate-90"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 6l-6 6l6 6" /></svg> <span>Back to Top</span> </button> </div> <hr class="my-6 border-dashed"> <!-- Previous/Next Post Buttons --> <div data-pagefind-ignore class="grid grid-cols-1 gap-6 sm:grid-cols-2"> <a href="/posts/aws/networking/nat-gateway" class="flex w-full gap-1 hover:opacity-75"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block flex-none"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 6l-6 6l6 6" /></svg> <div> <span>Previous Post</span> <div class="text-sm text-accent/85">[AWS] NAT Gateway</div> </div> </a> <a href="/posts/aws/networking/security-groups-and-nacls" class="flex w-full justify-end gap-1 text-right hover:opacity-75 sm:col-start-2"> <div> <span>Next Post</span> <div class="text-sm text-accent/85">[AWS] Security Groups and Network ACLs</div> </div> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block flex-none"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M9 6l6 6l-6 6" /></svg> </a> </div> </main> <footer class="w-full mt-auto"> <div class="max-w-3xl mx-auto px-0"> <hr class="border-border" aria-hidden="true"> </div> <div class="flex flex-col items-center justify-between py-6 sm:flex-row-reverse sm:py-4"> <div class="flex-wrap justify-center gap-1 flex"> <a href="https://github.com/thuongnn" class="group inline-block hover:text-accent p-2 hover:rotate-6 sm:p-1" title=" thuongnn.dev on Github"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" /></svg> <span class="sr-only"> thuongnn.dev on Github</span> </a><a href="https://www.facebook.com/thuongnn97" class="group inline-block hover:text-accent p-2 hover:rotate-6 sm:p-1" title="thuongnn.dev on Facebook"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" /></svg> <span class="sr-only">thuongnn.dev on Facebook</span> </a><a href="https://www.linkedin.com/in/thuongnn/" class="group inline-block hover:text-accent p-2 hover:rotate-6 sm:p-1" title="thuongnn.dev on LinkedIn"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M8 11v5" /><path d="M8 8v.01" /><path d="M12 16v-5" /><path d="M16 16v-3a2 2 0 1 0 -4 0" /><path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z" /></svg> <span class="sr-only">thuongnn.dev on LinkedIn</span> </a><a href="mailto:thuongnn1997@gmail.com" class="group inline-block hover:text-accent p-2 hover:rotate-6 sm:p-1" title="Send an email to thuongnn.dev"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" /><path d="M3 7l9 6l9 -6" /></svg> <span class="sr-only">Send an email to thuongnn.dev</span> </a> </div> <div class="my-2 flex flex-col items-center whitespace-nowrap sm:flex-row"> <span>Copyright &#169; 2025</span> <span class="hidden sm:inline">&nbsp;|&nbsp;</span> <span>All rights reserved.</span> </div> </div> </footer>  </body></html> <script data-astro-rerun>
  /** Create a progress indicator
   *  at the top */
  function createProgressBar() {
    // Create the main container div
    const progressContainer = document.createElement("div");
    progressContainer.className =
      "progress-container fixed top-0 z-10 h-1 w-full bg-background";

    // Create the progress bar div
    const progressBar = document.createElement("div");
    progressBar.className = "progress-bar h-1 w-0 bg-accent";
    progressBar.id = "myBar";

    // Append the progress bar to the progress container
    progressContainer.appendChild(progressBar);

    // Append the progress container to the document body or any other desired parent element
    document.body.appendChild(progressContainer);
  }
  createProgressBar();

  /** Update the progress bar
   *  when user scrolls */
  function updateScrollProgress() {
    document.addEventListener("scroll", () => {
      const winScroll =
        document.body.scrollTop || document.documentElement.scrollTop;
      const height =
        document.documentElement.scrollHeight -
        document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      if (document) {
        const myBar = document.getElementById("myBar");
        if (myBar) {
          myBar.style.width = scrolled + "%";
        }
      }
    });
  }
  updateScrollProgress();

  /** Attaches links to headings in the document,
   *  allowing sharing of sections easily */
  function addHeadingLinks() {
    const headings = Array.from(
      document.querySelectorAll("h2, h3, h4, h5, h6")
    );
    for (const heading of headings) {
      heading.classList.add("group");
      const link = document.createElement("a");
      link.className =
        "heading-link ml-2 opacity-0 group-hover:opacity-100 focus:opacity-100";
      link.href = "#" + heading.id;

      const span = document.createElement("span");
      span.ariaHidden = "true";
      span.innerText = "#";
      link.appendChild(span);
      heading.appendChild(link);
    }
  }
  addHeadingLinks();

  /** Attaches copy buttons to code blocks in the document,
   * allowing users to copy code easily. */
  function attachCopyButtons() {
    const copyButtonLabel = "Copy";
    const codeBlocks = Array.from(document.querySelectorAll("pre"));

    for (const codeBlock of codeBlocks) {
      const wrapper = document.createElement("div");
      wrapper.style.position = "relative";

      const copyButton = document.createElement("button");
      copyButton.className =
        "copy-code absolute right-3 -top-3 rounded bg-muted px-2 py-1 text-xs leading-4 text-foreground font-medium";
      copyButton.innerHTML = copyButtonLabel;
      codeBlock.setAttribute("tabindex", "0");
      codeBlock.appendChild(copyButton);

      // wrap codebock with relative parent element
      codeBlock?.parentNode?.insertBefore(wrapper, codeBlock);
      wrapper.appendChild(codeBlock);

      copyButton.addEventListener("click", async () => {
        await copyCode(codeBlock, copyButton);
      });
    }

    async function copyCode(block, button) {
      const code = block.querySelector("code");
      const text = code?.innerText;

      await navigator.clipboard.writeText(text ?? "");

      // visual feedback that task is completed
      button.innerText = "Copied";

      setTimeout(() => {
        button.innerText = copyButtonLabel;
      }, 700);
    }
  }
  attachCopyButtons();

  /** Scrolls the document to the top when
   * the "Back to Top" button is clicked. */
  function backToTop() {
    document.querySelector("#back-to-top")?.addEventListener("click", () => {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    });
  }
  backToTop();

  /* Go to page start after page swap */
  document.addEventListener("astro:after-swap", () =>
    window.scrollTo({ left: 0, top: 0, behavior: "instant" })
  );
</script>