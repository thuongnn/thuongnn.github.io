<!DOCTYPE html><html lang="en" class="scroll-smooth" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="canonical" href="https://thuongnn.dev/posts/aws/other/aws-sqs/"><meta name="generator" content="Astro v5.5.2"><!-- General Meta Tags --><title>[AWS] AWS Simple Queue Service – SQS | thuongnn.dev</title><meta name="title" content="[AWS] AWS Simple Queue Service – SQS | thuongnn.dev"><meta name="description" content="Tìm hiểu về dịch vụ hàng đợi tin nhắn của AWS, giúp phân tách và mở rộng các thành phần phân tán."><meta name="author" content="thuongnn"><link rel="sitemap" href="/sitemap-index.xml"><!-- Open Graph / Facebook --><meta property="og:title" content="[AWS] AWS Simple Queue Service – SQS | thuongnn.dev"><meta property="og:description" content="Tìm hiểu về dịch vụ hàng đợi tin nhắn của AWS, giúp phân tách và mở rộng các thành phần phân tán."><meta property="og:url" content="https://thuongnn.dev/posts/aws/other/aws-sqs/"><meta property="og:image" content="https://thuongnn.dev/posts/aws/other/aws-sqs/index.png"><!-- Article Published/Modified time --><meta property="article:published_time" content="2023-07-31T14:30:45.000Z"><meta property="article:modified_time" content="2023-07-31T14:30:45.000Z"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://thuongnn.dev/posts/aws/other/aws-sqs/"><meta property="twitter:title" content="[AWS] AWS Simple Queue Service – SQS | thuongnn.dev"><meta property="twitter:description" content="Tìm hiểu về dịch vụ hàng đợi tin nhắn của AWS, giúp phân tách và mở rộng các thành phần phân tán."><meta property="twitter:image" content="https://thuongnn.dev/posts/aws/other/aws-sqs/index.png"><!-- Google JSON-LD Structured data --><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"[AWS] AWS Simple Queue Service – SQS | thuongnn.dev","image":"https://thuongnn.dev/posts/aws/other/aws-sqs/index.png","datePublished":"2023-07-31T14:30:45.000Z","dateModified":"2023-07-31T14:30:45.000Z","author":[{"@type":"Person","name":"thuongnn","url":"https://thuongnn.dev/"}]}</script><!-- Enable RSS feed auto-discovery  --><!-- https://docs.astro.build/en/recipes/rss/#enabling-rss-feed-auto-discovery --><link rel="alternate" type="application/rss+xml" title="thuongnn.dev" href="https://thuongnn.dev/rss.xml"><meta name="theme-color" content=""><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CMTcOisY.js"></script><script src="/toggle-theme.js"></script><link rel="stylesheet" href="/_astro/about.DQgjlE2T.css">
<style>@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0;mix-blend-mode:plus-lighter}to{opacity:1;mix-blend-mode:plus-lighter}}@keyframes astroFadeOut{0%{opacity:1;mix-blend-mode:plus-lighter}to{opacity:0;mix-blend-mode:plus-lighter}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
[data-astro-image]{width:100%;height:auto;object-fit:var(--fit);object-position:var(--pos);aspect-ratio:var(--w) / var(--h)}[data-astro-image=responsive]{max-width:calc(var(--w) * 1px);max-height:calc(var(--h) * 1px)}[data-astro-image=fixed]{width:calc(var(--w) * 1px);height:calc(var(--h) * 1px)}
</style><style>[data-astro-transition-scope="astro-fam6wyqg-1"] { view-transition-name: aws-aws-simple-queue-service-sqs; }@layer astro { ::view-transition-old(aws-aws-simple-queue-service-sqs) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(aws-aws-simple-queue-service-sqs) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(aws-aws-simple-queue-service-sqs) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(aws-aws-simple-queue-service-sqs) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-2"] { view-transition-name: aws; }@layer astro { ::view-transition-old(aws) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(aws) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(aws) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(aws) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-3"] { view-transition-name: amazon-web-services; }@layer astro { ::view-transition-old(amazon-web-services) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(amazon-web-services) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(amazon-web-services) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(amazon-web-services) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body data-astro-cid-sckkx6r4>  <header> <a id="skip-to-content" href="#main-content" class="absolute -top-full left-16 z-50 bg-background px-3 py-2 text-accent backdrop-blur-lg transition-all focus:top-4">
Skip to content
</a> <div id="nav-container" class="mx-auto flex max-w-3xl flex-col items-center justify-between sm:flex-row"> <div id="top-nav-wrap" class="relative flex w-full items-baseline justify-between bg-background p-4 sm:items-center sm:py-6"> <a href="/" class="absolute py-1 text-2xl leading-7 font-semibold whitespace-nowrap sm:static"> thuongnn.dev </a> <nav id="nav-menu" class="flex w-full flex-col items-center sm:ml-2 sm:flex-row sm:justify-end sm:space-x-4 sm:py-0"> <button id="menu-btn" class="focus-outline self-end p-2 sm:hidden" aria-label="Open Menu" aria-expanded="false" aria-controls="menu-items"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden" id="close-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-menu-deep" id="menu-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M4 6h16" /><path d="M7 12h13" /><path d="M10 18h10" /></svg> </button> <ul id="menu-items" class="mt-4 grid w-44 grid-cols-2 place-content-center gap-2 [&#38;>li>a]:block [&#38;>li>a]:px-4 [&#38;>li>a]:py-3 [&#38;>li>a]:text-center [&#38;>li>a]:font-medium [&#38;>li>a]:hover:text-accent sm:[&#38;>li>a]:px-2 sm:[&#38;>li>a]:py-1 hidden sm:mt-0 sm:ml-0 sm:flex sm:w-auto sm:gap-x-5 sm:gap-y-0"> <li class="col-span-2"> <a href="/posts" class="active-nav">
Posts
</a> </li> <li class="col-span-2"> <a href="/tags">
Tags
</a> </li> <li class="col-span-2"> <a href="/about">
About
</a> </li> <li class="col-span-2"> <a href="/archives" class="group inline-block hover:text-accent focus-outline flex justify-center p-3 sm:p-1" aria-label="archives" title="Archives"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden sm:inline-block"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" /><path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" /><path d="M10 12l4 0" /></svg> <span class="sm:sr-only">Archives</span> </a> </li> <li class="col-span-1 flex items-center justify-center"> <a href="/search" class="group inline-block hover:text-accent focus-outline flex p-3 sm:p-1" aria-label="search" title="Search"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-search"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" /><path d="M21 21l-6 -6" /></svg> <span class="sr-only">Search</span> </a> </li> <li class="col-span-1 flex items-center justify-center"> <button id="theme-btn" class="focus-outline relative size-12 p-4 sm:size-8 hover:[&>svg]:stroke-accent" title="Toggles light & dark" aria-label="auto" aria-live="polite"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute top-[50%] left-[50%] -translate-[50%] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" /></svg> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute top-[50%] left-[50%] -translate-[50%] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z" /><path d="M6.343 17.657l-1.414 1.414" /><path d="M6.343 6.343l-1.414 -1.414" /><path d="M17.657 6.343l1.414 -1.414" /><path d="M17.657 17.657l1.414 1.414" /><path d="M4 12h-2" /><path d="M12 4v-2" /><path d="M20 12h2" /><path d="M12 20v2" /></svg> </button> </li> </ul> </nav> </div> </div> <div class="max-w-3xl mx-auto px-4"> <hr class="border-border" aria-hidden="true"> </div> </header> <script type="module">function s(){const e=document.querySelector("#menu-btn"),t=document.querySelector("#menu-items"),n=document.querySelector("#menu-icon"),o=document.querySelector("#close-icon");!e||!t||!n||!o||e.addEventListener("click",()=>{const c=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",c?"false":"true"),e.setAttribute("aria-label",c?"Open Menu":"Close Menu"),t.classList.toggle("hidden"),n.classList.toggle("hidden"),o.classList.toggle("hidden")})}s();document.addEventListener("astro:after-swap",s);</script> <div class="mx-auto flex w-full max-w-3xl items-center justify-start px-2"><a id="back-button" href="/" class="group inline-block hover:text-accent focus-outline mt-8 mb-2 flex hover:text-foreground/75"><svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 6l-6 6l6 6" /></svg><span>Go back</span></a></div><script type="module">function o(){const t=document.querySelector("#back-button"),e=sessionStorage.getItem("backUrl");e&&t&&(t.href=e)}document.addEventListener("astro:page-load",o);o();</script> <main id="main-content" class="mx-auto w-full max-w-3xl px-4 pb-12" data-pagefind-body> <h1 class="inline-block text-2xl font-bold text-accent sm:text-3xl" data-astro-transition-scope="astro-fam6wyqg-1"> [AWS] AWS Simple Queue Service – SQS </h1> <div class="flex items-center gap-4"> <div class="flex items-end space-x-2 opacity-80 my-2"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 min-w-[1.375rem]"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M7 14h.013" /><path d="M10.01 14h.005" /><path d="M13.01 14h.005" /><path d="M16.015 14h.005" /><path d="M13.015 17h.005" /><path d="M7.01 17h.005" /><path d="M10.01 17h.005" /></svg> <span class="sr-only">Published:</span> <span class="text-sm italic sm:text-base"> <time datetime="2023-07-31T14:30:45.000Z">31 Jul, 2023</time> <span aria-hidden="true"> | </span> <span class="sr-only">&nbsp;at&nbsp;</span> <span class="text-nowrap">02:30 PM</span> </span> </div> <div class="opacity-80 max-sm:hidden"><span aria-hidden="true" class="max-sm:hidden">
|
</span><a class="space-x-1.5 hover:opacity-75" href="https://github.com/thuongnn/thuongnn.github.io/edit/master/src/data/blog/aws/other/aws-sqs.md" rel="noopener noreferrer" target="_blank"><svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" /><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" /><path d="M16 5l3 3" /></svg><span class="italic max-sm:text-sm sm:inline">Suggest Changes</span></a></div> </div> <article id="article" class="mx-auto prose mt-8 max-w-3xl"> <p>Bài viết được tham khảo và tổng hợp lại từ Jayendra’s Blog, xem bài viết gốc ở đây: <a href="https://jayendrapatil.com/aws-sqs">https://jayendrapatil.com/aws-sqs</a>.</p>
<h2 id="table-of-contents">Table of contents</h2>
<p></p><details><summary>Open Table of contents</summary><p></p>
<ul>
<li><a href="#t%E1%BB%95ng-quan"><strong>Tổng quan</strong></a>
<ul>
<li>
<ul>
<li><a href="#h%C3%A0ng-%C4%91%E1%BB%A3i-chu%E1%BA%A9n-sqs-standard-queue"><strong>Hàng đợi Chuẩn (SQS Standard Queue)</strong></a></li>
<li><a href="#h%C3%A0ng-%C4%91%E1%BB%A3i-fifo-sqs-fifo-queue"><strong>Hàng đợi FIFO (SQS FIFO Queue)</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sqs-standard-queues-vs-sqs-fifo-queues">SQS Standard Queues vs SQS FIFO Queues</a></li>
<li><a href="#sqs-use-cases"><strong>SQS Use Cases</strong></a></li>
<li><a href="#how-sqs-queues-works"><strong>How SQS Queues Works</strong></a></li>
<li><a href="#sqs-features--capabilities">SQS Features &#x26; Capabilities</a></li>
<li><a href="#sqs-buffered-asynchronous-client">SQS Buffered Asynchronous Client</a></li>
<li><a href="#sqs-security-and-reliability">SQS Security and reliability</a></li>
<li><a href="#sqs-design-patterns"><strong>SQS Design Patterns</strong></a>
<ul>
<li>
<ul>
<li><a href="#priority-queue-pattern"><strong>Priority Queue Pattern</strong></a></li>
<li><a href="#sqs-job-observer-pattern"><strong>SQS Job Observer Pattern</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sqs-vs-kinesis-data-streams">SQS vs Kinesis Data Streams</a></li>
</ul>
<p></p></details><p></p>
<h1 id="tổng-quan"><strong>Tổng quan</strong></h1>
<ul>
<li><strong>Simple Queue Service (SQS)</strong> là hệ thống hàng đợi phân tán có tính sẵn sàng cao.</li>
<li>Hàng đợi là kho lưu trữ tạm thời cho các tin nhắn đang chờ xử lý, đóng vai trò như bộ đệm giữa thành phần gửi (producer) và nhận (consumer).</li>
<li>Là dịch vụ hàng đợi tin nhắn được sử dụng bởi các ứng dụng phân tán để trao đổi tin nhắn thông qua mô hình <strong>polling</strong>, giúp tách biệt các thành phần gửi và nhận.</li>
<li>Được quản lý hoàn toàn, không yêu cầu chi phí quản trị và cấu hình đơn giản.</li>
<li>Cung cấp hàng đợi lưu trữ tin nhắn đáng tin cậy, có khả năng mở rộng cao, dùng để truyền tin nhắn giữa các ứng dụng.</li>
<li>Hỗ trợ kiến trúc không đồng bộ, linh hoạt, chịu lỗi và tách rời các thành phần phân tán của ứng dụng, cho phép gửi và nhận tin nhắn mà không yêu cầu các thành phần phải đồng thời sẵn sàng.</li>
<li>Hỗ trợ <strong>mã hóa tại chỗ</strong> và <strong>mã hóa trong quá trình truyền</strong> bằng giao thức HTTP qua SSL (HTTPS) và Transport Layer Security (TLS).</li>
<li>Cung cấp hai loại hàng đợi:
<ul>
<li><a href="https://jayendrapatil.com/aws-sqs-standard-queue/">Hàng đợi Chuẩn (Standard Queue)</a></li>
<li><a href="https://jayendrapatil.com/aws-sqs-fifo-queue/">Hàng đợi FIFO (FIFO Queue)</a></li>
</ul>
</li>
</ul>
<h3 id="hàng-đợi-chuẩn-sqs-standard-queue"><strong>Hàng đợi Chuẩn (SQS Standard Queue)</strong></h3>
<ul>
<li>Là loại hàng đợi mặc định.</li>
<li>Hỗ trợ giao tin nhắn <strong>ít nhất một lần (at-least-once)</strong>. Tuy nhiên, do kiến trúc phân tán cao cho phép thông lượng gần như không giới hạn, đôi khi có thể giao nhiều bản sao của một tin nhắn hoặc giao không theo thứ tự.</li>
<li>Hỗ trợ <strong>số lượng gần như không giới hạn các cuộc gọi API mỗi giây</strong> cho mỗi hành động API (SendMessage, ReceiveMessage, DeleteMessage).</li>
<li>Cung cấp <strong>sắp xếp tốt nhất có thể (best-effort ordering)</strong>, đảm bảo tin nhắn thường được giao theo thứ tự gửi.</li>
</ul>
<p>Xem chi tiết tại <a href="https://jayendrapatil.com/aws-sqs-standard-queue/">SQS Standard Queue</a>.</p>
<h3 id="hàng-đợi-fifo-sqs-fifo-queue"><strong>Hàng đợi FIFO (SQS FIFO Queue)</strong></h3>
<ul>
<li>Hàng đợi <strong>FIFO (First-In-First-Out)</strong> cung cấp tin nhắn <strong>theo thứ tự</strong> và <strong>giao chính xác một lần (exactly-once)</strong>.</li>
<li>Có tất cả các khả năng của hàng đợi chuẩn nhưng được thiết kế để cải thiện giao tiếp giữa các ứng dụng khi thứ tự của các thao tác và sự kiện là quan trọng, hoặc không chấp nhận trùng lặp.</li>
</ul>
<p>Xem chi tiết tại <a href="https://jayendrapatil.com/aws-sqs-fifo-queue/">SQS FIFO Queue</a>.</p>
<h1 id="sqs-standard-queues-vs-sqs-fifo-queues">SQS Standard Queues vs SQS FIFO Queues</h1>
<p><img alt="1.png" sizes="(min-width: 768px) 768px, 100vw" loading="lazy" decoding="async" fetchpriority="auto" style="--w: 768; --h: 552;" data-astro-image="responsive" width="768" height="552" src="/_astro/1.Bz_LWml6_Z1xQUUM.webp" srcset="/_astro/1.Bz_LWml6_Z2wwqBg.webp 640w, /_astro/1.Bz_LWml6_ZaIqrP.webp 750w, /_astro/1.Bz_LWml6_Z1xQUUM.webp 768w"></p>
<h1 id="sqs-use-cases"><strong>SQS Use Cases</strong></h1>
<ul>
<li><strong>Hàng đợi Công việc (Work Queues)</strong>:
<ul>
<li>Tách biệt các thành phần của ứng dụng phân tán không xử lý cùng khối lượng công việc đồng thời.</li>
</ul>
</li>
<li><strong>Bộ đệm và Xử lý Hàng loạt (Buffer and Batch Operations)</strong>:
<ul>
<li>Thêm khả năng mở rộng và độ tin cậy cho kiến trúc, làm mượt các đợt tăng lưu lượng tạm thời mà không mất tin nhắn hoặc tăng độ trễ.</li>
</ul>
</li>
<li><strong>Dời Yêu cầu (Request Offloading)</strong>:
<ul>
<li>Chuyển các thao tác chậm ra khỏi các đường yêu cầu tương tác bằng cách đưa yêu cầu vào hàng đợi.</li>
</ul>
</li>
<li><strong>Phân tán (Fan-out)</strong>:
<ul>
<li>Kết hợp SQS với SNS để gửi các bản sao giống hệt của một tin nhắn đến nhiều hàng đợi song song để xử lý đồng thời.</li>
</ul>
</li>
<li><strong>Tự động Mở rộng (Auto Scaling)</strong>:
<ul>
<li>Sử dụng hàng đợi SQS để xác định tải ứng dụng, kết hợp với Auto Scaling để mở rộng hoặc thu hẹp các phiên bản EC2 tùy thuộc vào lưu lượng.</li>
</ul>
</li>
</ul>
<h1 id="how-sqs-queues-works"><strong>How SQS Queues Works</strong></h1>
<ul>
<li>SQS cho phép <strong>tạo, xóa hàng đợi</strong> và <strong>gửi/nhận tin nhắn</strong> từ hàng đợi.</li>
<li>Hàng đợi SQS lưu giữ tin nhắn trong <strong>4 ngày theo mặc định</strong>.</li>
<li>Có thể cấu hình để lưu giữ tin nhắn từ <strong>1 phút đến 14 ngày</strong> sau khi tin nhắn được gửi.</li>
<li>SQS có thể <strong>xóa hàng đợi mà không thông báo</strong> nếu không có hành động nào được thực hiện trên hàng đợi trong <strong>30 ngày liên tiếp</strong>.</li>
<li>SQS cho phép xóa hàng đợi ngay cả khi còn tin nhắn trong đó.</li>
</ul>
<h1 id="sqs-features--capabilities">SQS Features &#x26; Capabilities</h1>
<ul>
<li><strong>Thời gian Tạm Ẩn (Visibility Timeout)</strong>:
<ul>
<li>Xác định khoảng thời gian SQS chặn khả năng hiển thị của tin nhắn, ngăn các thành phần tiêu thụ khác nhận và xử lý tin nhắn đó.</li>
</ul>
</li>
<li><strong>Hàng đợi Chết (Dead-Letter Queues - DLQ)</strong>:
<ul>
<li>Giúp các hàng đợi nguồn (<a href="https://jayendrapatil.com/aws-sqs-standard-queue/">Chuẩn</a> và <a href="https://jayendrapatil.com/aws-sqs-fifo-queue/">FIFO</a>) chuyển các tin nhắn không thể xử lý (tiêu thụ) thành công.</li>
</ul>
</li>
<li><strong>Chính sách Chuyển lại DLQ (DLQ Redrive Policy)</strong>:
<ul>
<li>Xác định hàng đợi nguồn, hàng đợi chết và các điều kiện để SQS chuyển tin nhắn từ hàng đợi nguồn sang hàng đợi chết nếu người tiêu thụ của hàng đợi nguồn không xử lý được tin nhắn sau số lần cố gắng quy định.</li>
</ul>
</li>
<li><strong>Polling Ngắn và Dài (Short and Long Polling)</strong>:
<ul>
<li>Kiểm soát cách hàng đợi được thăm dò; polling dài giúp giảm các phản hồi rỗng.</li>
</ul>
</li>
</ul>
<h1 id="sqs-buffered-asynchronous-client">SQS Buffered Asynchronous Client</h1>
<ul>
<li><strong>Amazon SQS Buffered Async Client</strong> cho Java cung cấp triển khai của giao diện AmazonSQSAsyncClient với các tính năng quan trọng:
<ul>
<li><strong>Gộp tự động (Automatic Batching)</strong>: Gộp nhiều yêu cầu <em>SendMessage</em>, <em>DeleteMessage</em> hoặc <em>ChangeMessageVisibility</em> mà không cần thay đổi ứng dụng.</li>
<li><strong>Tải trước (Prefetching)</strong>: Tải trước tin nhắn vào bộ đệm cục bộ, cho phép ứng dụng xử lý tin nhắn ngay lập tức mà không cần đợi lấy tin nhắn từ SQS.</li>
</ul>
</li>
<li>Gộp tự động và tải trước tăng thông lượng, giảm độ trễ của ứng dụng, đồng thời giảm chi phí bằng cách thực hiện ít yêu cầu SQS hơn.</li>
</ul>
<h1 id="sqs-security-and-reliability">SQS Security and reliability</h1>
<ul>
<li>SQS lưu trữ tất cả hàng đợi và tin nhắn trong <strong>một vùng AWS có tính sẵn sàng cao</strong> với nhiều <strong>Availability Zones (AZ)</strong> dự phòng.</li>
<li>Hỗ trợ giao thức <strong>HTTP qua SSL (HTTPS)</strong> và <strong>Transport Layer Security (TLS)</strong>.</li>
<li>Hỗ trợ <strong>Mã hóa Tại chỗ (Encryption at Rest)</strong>: Mã hóa tin nhắn ngay khi SQS nhận được và giải mã chỉ khi gửi đến người tiêu thụ được ủy quyền.</li>
<li>Hỗ trợ <strong>quyền dựa trên tài nguyên</strong>.</li>
</ul>
<h1 id="sqs-design-patterns"><strong>SQS Design Patterns</strong></h1>
<h3 id="priority-queue-pattern"><strong>Priority Queue Pattern</strong></h3>
<p><img alt="2.png" sizes="(min-width: 351px) 351px, 100vw" loading="lazy" decoding="async" fetchpriority="auto" style="--w: 351; --h: 401;" data-astro-image="responsive" width="351" height="401" src="/_astro/2.HM7jpiy8_Z2lvUGO.webp" srcset="/_astro/2.HM7jpiy8_Z2lvUGO.webp 351w"></p>
<ol>
<li>Sử dụng SQS để tạo nhiều hàng đợi cho các mức độ ưu tiên riêng lẻ.</li>
<li>Đặt các quy trình cần thực thi ngay lập tức (yêu cầu công việc) vào hàng đợi ưu tiên cao.</li>
<li>Chuẩn bị số lượng máy chủ hàng loạt để xử lý yêu cầu công việc của các hàng đợi, tùy thuộc vào mức độ ưu tiên.</li>
<li>Hàng đợi có chức năng <strong>Gửi Trì hoãn (Delayed Send)</strong>, có thể dùng để trì hoãn thời gian bắt đầu một quy trình.</li>
</ol>
<h3 id="sqs-job-observer-pattern"><strong>SQS Job Observer Pattern</strong></h3>
<p><img alt="3.png" sizes="(min-width: 2318px) 2318px, 100vw" loading="lazy" decoding="async" fetchpriority="auto" style="--w: 2318; --h: 1466;" data-astro-image="responsive" width="2318" height="1466" src="/_astro/3.BQI_iXWu_ZxJX9D.webp" srcset="/_astro/3.BQI_iXWu_Z2wcy1u.webp 640w, /_astro/3.BQI_iXWu_Zgb9Op.webp 750w, /_astro/3.BQI_iXWu_ZB9OCz.webp 828w, /_astro/3.BQI_iXWu_ZRqSWv.webp 1080w, /_astro/3.BQI_iXWu_Zh1WKM.webp 1280w, /_astro/3.BQI_iXWu_18pKcu.webp 1668w, /_astro/3.BQI_iXWu_Znsqy6.webp 2048w, /_astro/3.BQI_iXWu_ZxJX9D.webp 2318w"></p>
<ol>
<li>Đưa các yêu cầu công việc vào hàng đợi dưới dạng tin nhắn SQS.</li>
<li>Máy chủ hàng loạt lấy tin nhắn từ SQS và xử lý chúng.</li>
<li>Thiết lập Auto Scaling để tự động tăng hoặc giảm số lượng máy chủ hàng loạt, sử dụng số lượng tin nhắn SQS với CloudWatch làm yếu tố kích hoạt.</li>
</ol>
<h1 id="sqs-vs-kinesis-data-streams">SQS vs Kinesis Data Streams</h1>
<p><img alt="4.png" sizes="(min-width: 1397px) 1397px, 100vw" loading="lazy" decoding="async" fetchpriority="auto" style="--w: 1397; --h: 1079;" data-astro-image="responsive" width="1397" height="1079" src="/_astro/4.ZFYeFPeV_JuJ6p.webp" srcset="/_astro/4.ZFYeFPeV_1OQuv9.webp 640w, /_astro/4.ZFYeFPeV_1fDAgO.webp 750w, /_astro/4.ZFYeFPeV_Z2rhVVG.webp 828w, /_astro/4.ZFYeFPeV_h0IDs.webp 1080w, /_astro/4.ZFYeFPeV_Z2iGrQk.webp 1280w, /_astro/4.ZFYeFPeV_JuJ6p.webp 1397w"></p> </article> <hr class="my-8 border-dashed"> <div class="opacity-80 sm:hidden"><span aria-hidden="true" class="max-sm:hidden">
|
</span><a class="space-x-1.5 hover:opacity-75" href="https://github.com/thuongnn/thuongnn.github.io/edit/master/src/data/blog/aws/other/aws-sqs.md" rel="noopener noreferrer" target="_blank"><svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" /><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" /><path d="M16 5l3 3" /></svg><span class="italic max-sm:text-sm sm:inline">Suggest Changes</span></a></div> <ul class="mt-4 mb-8 sm:my-8"> <li class="group inline-block group-hover:cursor-pointer my-1 underline-offset-4"> <a href="/tags/aws/" class="relative pr-2 text-lg underline decoration-dashed group-hover:-top-0.5 group-hover:text-accent focus-visible:p-1 text-sm" data-astro-transition-scope="astro-36ssibgs-2"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block opacity-80 -mr-3.5 size-4"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M5 9l14 0" /><path d="M5 15l14 0" /><path d="M11 4l-4 16" /><path d="M17 4l-4 16" /></svg>
&nbsp;<span>AWS</span> </a> </li><li class="group inline-block group-hover:cursor-pointer my-1 underline-offset-4"> <a href="/tags/amazon-web-services/" class="relative pr-2 text-lg underline decoration-dashed group-hover:-top-0.5 group-hover:text-accent focus-visible:p-1 text-sm" data-astro-transition-scope="astro-36ssibgs-3"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block opacity-80 -mr-3.5 size-4"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M5 9l14 0" /><path d="M5 15l14 0" /><path d="M11 4l-4 16" /><path d="M17 4l-4 16" /></svg>
&nbsp;<span>Amazon Web Services</span> </a> </li> </ul> <div class="flex flex-col items-center justify-between gap-6 sm:flex-row sm:items-end sm:gap-4"> <div class="flex flex-col flex-wrap items-center justify-center gap-1 sm:items-start"> <span class="italic">Share this post on:</span> <div class="text-center"> <a href="https://wa.me/?text=https://thuongnn.dev/posts/aws/other/aws-sqs/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post via WhatsApp"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 21l1.65 -3.8a9 9 0 1 1 3.4 2.9l-5.05 .9" /><path d="M9 10a.5 .5 0 0 0 1 0v-1a.5 .5 0 0 0 -1 0v1a5 5 0 0 0 5 5h1a.5 .5 0 0 0 0 -1h-1a.5 .5 0 0 0 0 1" /></svg> <span class="sr-only">Share this post via WhatsApp</span> </a><a href="https://www.facebook.com/sharer.php?u=https://thuongnn.dev/posts/aws/other/aws-sqs/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post on Facebook"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" /></svg> <span class="sr-only">Share this post on Facebook</span> </a><a href="https://x.com/intent/post?url=https://thuongnn.dev/posts/aws/other/aws-sqs/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post on X"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M4 4l11.733 16h4.267l-11.733 -16z" /><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" /></svg> <span class="sr-only">Share this post on X</span> </a><a href="https://t.me/share/url?url=https://thuongnn.dev/posts/aws/other/aws-sqs/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post via Telegram"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4" /></svg> <span class="sr-only">Share this post via Telegram</span> </a><a href="https://pinterest.com/pin/create/button/?url=https://thuongnn.dev/posts/aws/other/aws-sqs/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post on Pinterest"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M8 20l4 -9" /><path d="M10.7 14c.437 1.263 1.43 2 2.55 2c2.071 0 3.75 -1.554 3.75 -4a5 5 0 1 0 -9.7 1.7" /><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /></svg> <span class="sr-only">Share this post on Pinterest</span> </a><a href="mailto:?subject=See%20this%20post&#38;body=https://thuongnn.dev/posts/aws/other/aws-sqs/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post via email"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" /><path d="M3 7l9 6l9 -6" /></svg> <span class="sr-only">Share this post via email</span> </a> </div> </div> <button id="back-to-top" class="focus-outline py-1 whitespace-nowrap hover:opacity-75"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block rotate-90"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 6l-6 6l6 6" /></svg> <span>Back to Top</span> </button> </div> <hr class="my-6 border-dashed"> <!-- Previous/Next Post Buttons --> <div data-pagefind-ignore class="grid grid-cols-1 gap-6 sm:grid-cols-2"> <a href="/posts/aws/other/cloudformation" class="flex w-full gap-1 hover:opacity-75"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block flex-none"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 6l-6 6l6 6" /></svg> <div> <span>Previous Post</span> <div class="text-sm text-accent/85">[AWS] AWS CloudFormation</div> </div> </a> <a href="/posts/aws/other/aws-sns" class="flex w-full justify-end gap-1 text-right hover:opacity-75 sm:col-start-2"> <div> <span>Next Post</span> <div class="text-sm text-accent/85">[AWS] Simple Notification Service – SNS</div> </div> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block flex-none"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M9 6l6 6l-6 6" /></svg> </a> </div> </main> <footer class="w-full mt-auto"> <div class="max-w-3xl mx-auto px-0"> <hr class="border-border" aria-hidden="true"> </div> <div class="flex flex-col items-center justify-between py-6 sm:flex-row-reverse sm:py-4"> <div class="flex-wrap justify-center gap-1 flex"> <a href="https://github.com/thuongnn" class="group inline-block hover:text-accent p-2 hover:rotate-6 sm:p-1" title=" thuongnn.dev on Github"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" /></svg> <span class="sr-only"> thuongnn.dev on Github</span> </a><a href="https://www.facebook.com/thuongnn97" class="group inline-block hover:text-accent p-2 hover:rotate-6 sm:p-1" title="thuongnn.dev on Facebook"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" /></svg> <span class="sr-only">thuongnn.dev on Facebook</span> </a><a href="https://www.linkedin.com/in/thuongnn/" class="group inline-block hover:text-accent p-2 hover:rotate-6 sm:p-1" title="thuongnn.dev on LinkedIn"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M8 11v5" /><path d="M8 8v.01" /><path d="M12 16v-5" /><path d="M16 16v-3a2 2 0 1 0 -4 0" /><path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z" /></svg> <span class="sr-only">thuongnn.dev on LinkedIn</span> </a><a href="mailto:thuongnn1997@gmail.com" class="group inline-block hover:text-accent p-2 hover:rotate-6 sm:p-1" title="Send an email to thuongnn.dev"> <svg viewBox="0 0 24 24" role="img"  width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" /><path d="M3 7l9 6l9 -6" /></svg> <span class="sr-only">Send an email to thuongnn.dev</span> </a> </div> <div class="my-2 flex flex-col items-center whitespace-nowrap sm:flex-row"> <span>Copyright &#169; 2025</span> <span class="hidden sm:inline">&nbsp;|&nbsp;</span> <span>All rights reserved.</span> </div> </div> </footer>  </body></html> <script data-astro-rerun>
  /** Create a progress indicator
   *  at the top */
  function createProgressBar() {
    // Create the main container div
    const progressContainer = document.createElement("div");
    progressContainer.className =
      "progress-container fixed top-0 z-10 h-1 w-full bg-background";

    // Create the progress bar div
    const progressBar = document.createElement("div");
    progressBar.className = "progress-bar h-1 w-0 bg-accent";
    progressBar.id = "myBar";

    // Append the progress bar to the progress container
    progressContainer.appendChild(progressBar);

    // Append the progress container to the document body or any other desired parent element
    document.body.appendChild(progressContainer);
  }
  createProgressBar();

  /** Update the progress bar
   *  when user scrolls */
  function updateScrollProgress() {
    document.addEventListener("scroll", () => {
      const winScroll =
        document.body.scrollTop || document.documentElement.scrollTop;
      const height =
        document.documentElement.scrollHeight -
        document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      if (document) {
        const myBar = document.getElementById("myBar");
        if (myBar) {
          myBar.style.width = scrolled + "%";
        }
      }
    });
  }
  updateScrollProgress();

  /** Attaches links to headings in the document,
   *  allowing sharing of sections easily */
  function addHeadingLinks() {
    const headings = Array.from(
      document.querySelectorAll("h2, h3, h4, h5, h6")
    );
    for (const heading of headings) {
      heading.classList.add("group");
      const link = document.createElement("a");
      link.className =
        "heading-link ml-2 opacity-0 group-hover:opacity-100 focus:opacity-100";
      link.href = "#" + heading.id;

      const span = document.createElement("span");
      span.ariaHidden = "true";
      span.innerText = "#";
      link.appendChild(span);
      heading.appendChild(link);
    }
  }
  addHeadingLinks();

  /** Attaches copy buttons to code blocks in the document,
   * allowing users to copy code easily. */
  function attachCopyButtons() {
    const copyButtonLabel = "Copy";
    const codeBlocks = Array.from(document.querySelectorAll("pre"));

    for (const codeBlock of codeBlocks) {
      const wrapper = document.createElement("div");
      wrapper.style.position = "relative";

      const copyButton = document.createElement("button");
      copyButton.className =
        "copy-code absolute right-3 -top-3 rounded bg-muted px-2 py-1 text-xs leading-4 text-foreground font-medium";
      copyButton.innerHTML = copyButtonLabel;
      codeBlock.setAttribute("tabindex", "0");
      codeBlock.appendChild(copyButton);

      // wrap codebock with relative parent element
      codeBlock?.parentNode?.insertBefore(wrapper, codeBlock);
      wrapper.appendChild(codeBlock);

      copyButton.addEventListener("click", async () => {
        await copyCode(codeBlock, copyButton);
      });
    }

    async function copyCode(block, button) {
      const code = block.querySelector("code");
      const text = code?.innerText;

      await navigator.clipboard.writeText(text ?? "");

      // visual feedback that task is completed
      button.innerText = "Copied";

      setTimeout(() => {
        button.innerText = copyButtonLabel;
      }, 700);
    }
  }
  attachCopyButtons();

  /** Scrolls the document to the top when
   * the "Back to Top" button is clicked. */
  function backToTop() {
    document.querySelector("#back-to-top")?.addEventListener("click", () => {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    });
  }
  backToTop();

  /* Go to page start after page swap */
  document.addEventListener("astro:after-swap", () =>
    window.scrollTo({ left: 0, top: 0, behavior: "instant" })
  );
</script>